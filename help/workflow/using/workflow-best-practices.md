---
product: campaign
title: 워크플로우 모범 사례
description: Campaign 워크플로우 모범 사례 학습
audience: workflow
content-type: reference
topic-tags: -general-operation
exl-id: 39c57f61-2629-4214-91e4-cb97dc039deb
source-git-commit: 98d646919fedc66ee9145522ad0c5f15b25dbf2e
workflow-type: tm+mt
source-wordcount: '1609'
ht-degree: 6%

---

# 워크플로우 모범 사례{#workflow-best-practices}

## 실행 및 성능 {#execution-and-performance}

다음은 워크플로우에 적용하는 우수 사례를 비롯하여 캠페인 성과 최적화에 대한 일반 지침입니다.

워크플로우 실행과 관련된 문제 해결 지침도 [이 섹션](../../production/using/workflow-execution.md)에서도 사용할 수 있습니다.

### 로그 {#logs}

JavaScript 메서드 **[!UICONTROL logInfo()]**&#x200B;는 워크플로우를 디버깅하는 데 유용한 솔루션입니다. 유용하지만, 특히 자주 실행되는 활동에 신중하게 사용해야 합니다.로그를 오버로드하고 로그 테이블의 크기를 크게 늘릴 수 있습니다. 그러나 **[!UICONTROL logInfo()]** 이상이 필요할 수도 있습니다.

다음과 같은 두 가지 추가 솔루션을 사용할 수 있습니다.

* **두 실행 사이에 중간 모집단의 결과 유지**

   이 옵션은 워크플로우의 두 실행 사이에 임시 테이블을 유지합니다. 워크플로우 속성의 **[!UICONTROL General]** 탭에서 사용할 수 있으며, 개발 및 테스트 목적으로 데이터를 모니터링하고 결과를 확인하는 데 사용할 수 있습니다. 이 옵션은 개발 환경에서 사용할 수 있지만 프로덕션 환경에서는 사용할 수 없습니다. 임시 테이블을 유지하면 데이터베이스 크기가 크게 증가하고 결국 크기 제한에 도달할 수 있습니다. 또한 백업 속도가 느려집니다.

   워크플로우의 마지막 실행 작업의 작업 테이블만 유지됩니다. 이전 실행의 작업 테이블은 매일 실행되는 **[!UICONTROL cleanup]** 워크플로우에 의해 삭제됩니다.

   >[!CAUTION]
   >
   >프로덕션 워크플로우에서는 이 옵션을 체크해서는 안 됩니다. 이 옵션은 결과를 분석하는 데 사용되며 테스트 목적으로만 설계되므로 개발 또는 스테이징 환경에서만 사용해야 합니다.

* **저널에 SQL 쿼리 로그**

   워크플로우 속성의 **[!UICONTROL Execution]** 탭에서 사용할 수 있는 이 옵션은 다른 활동에서 도구에서 생성한 모든 SQL 쿼리를 기록합니다. 이 방법은 플랫폼에서 실제로 실행되는 항목을 확인하는 좋은 방법입니다. 그러나 이 옵션은 개발 중에만 일시적으로 사용해야 하며 프로덕션에서 활성화되지 않습니다.

더 이상 필요하지 않으면 로그를 삭제합니다. 워크플로우 내역은 자동으로 삭제되지 않습니다.모든 메시지는 기본적으로 유지됩니다. 작업 기록은 **[!UICONTROL File > Actions]** 메뉴를 통해 또는 목록 위의 도구 모음에 있는 작업 단추를 클릭하여 제거할 수 있습니다. 삭제 내역을 선택합니다.
로그를 삭제하는 방법에 대해 알아보려면 이 [설명서](../../workflow/using/starting-a-workflow.md)를 참조하십시오.

### 워크플로우 계획 {#workflow-planning}

* 하루 동안 안정적인 활동 수준을 유지하고 인스턴스가 과부하가 발생하지 않도록 최고점을 피하도록 하십시오. 이렇게 하려면 하루 종일 워크플로우 시작 시간을 균등하게 분배합니다.
* 리소스 경합을 줄이기 위해 데이터 로드 일정을 하룻밤 만에 예약합니다.
* 긴 워크플로우는 서버 및 데이터베이스 리소스에 영향을 줄 수 있습니다. 가장 긴 워크플로우를 분할하여 처리 시간을 줄입니다.
* 전체 실행 시간을 줄이려면 시간이 많이 소요되는 활동을 간소화되고 더 빠른 활동으로 바꾸십시오.
* 20개 이상의 워크플로우를 동시에 실행하지 마십시오. 너무 많은 워크플로우가 동시에 실행되면 시스템이 리소스가 부족해지고 불안정해질 수 있습니다. 워크플로우가 시작되지 않는 이유에 대한 자세한 내용은 이 [article](https://helpx.adobe.com/ie/campaign/kb/workflows-not-starting-in-a-campaign-technical-workflows.html)을 참조하십시오.

### 워크플로우 실행 {#workflow-execution}

전체 시스템 성능이 저하되고 데이터베이스에서 블록을 만들 수 있으므로 워크플로우를 15분 이상 실행하지 않도록 예약하는 것이 좋습니다.

워크플로우를 일시 중지 상태로 두지 마십시오. 임시 워크플로우를 만드는 경우, 작업이 올바르게 완료되고 **[!UICONTROL paused]** 상태에 있지 않아야 합니다. 일시 중지된 경우에는 임시 테이블을 유지하여 데이터베이스 크기를 늘려야 한다는 의미입니다. 시스템에서 워크플로가 실패하거나 일시 중지된 경우 워크플로우 속성 아래의 워크플로우 감독자를 지정하여 경고를 보냅니다.

워크플로우가 일시 중지된 상태로 유지되지 않도록 하려면:

* 예기치 않은 오류가 없는지 정기적으로 워크플로우를 확인합니다.
* 예를 들어 여러 다른 워크플로우에서 큰 워크플로우를 분할하는 등 워크플로우를 가능한 한 단순하게 유지합니다. **[!UICONTROL External signal]** 활동을 사용하면 다른 워크플로우의 실행에 따라 실행을 트리거할 수 있습니다.
* 워크플로우에서 흐름이 비활성화된 활동이 있으면 스레드를 열어 많은 공간을 사용할 수 있는 많은 임시 테이블로 이동하지 마십시오. 워크플로우에서 **[!UICONTROL Do not enable]** 또는 **[!UICONTROL Enable but do not execute]** 상태의 활동을 유지하지 마십시오.

또한 사용하지 않는 워크플로우를 중지합니다. 계속 실행되는 워크플로우는 데이터베이스에 대한 연결을 유지합니다.

가장 위험한 경우에는 무조건 멈추기만 하세요. 이 작업은 정기적으로 사용하지 마십시오. 워크플로우에서 데이터베이스에 대해 생성한 연결에 대해 지우기 종료를 수행하지 않으면 성능에 영향을 줍니다.

### 엔진 옵션 {#execute-in-the-engine-option}에서 실행

**[!UICONTROL Workflow properties]** 창에서 **[!UICONTROL Execute in the engine]** 옵션을 선택하지 마십시오. 이 옵션이 활성화되면 워크플로우가 우선권을 가지며 다른 모든 워크플로우는 이 옵션이 완료될 때까지 워크플로우 엔진에 의해 중지됩니다.

![](assets/wf-execute-in-engine.png)

## 워크플로우 속성 {#workflow-properties}

### 워크플로우 폴더 {#workflow-folders}

Adobe은 전용 폴더에서 워크플로우를 만들 것을 권장합니다.

워크플로우가 전체 플랫폼에 영향을 주는 경우(예: 정리 프로세스) 기본 제공 **[!UICONTROL Technical Workflows]** 폴더에 하위 폴더를 추가하는 것을 고려해 볼 수 있습니다.

### 워크플로우 이름 지정 {#workflow-naming}

예상과 다르게 수행될 경우 쉽게 찾고 문제를 해결하기 위해 워크플로우에 적절한 이름과 레이블을 지정하는 것을 권장합니다. 워크플로우의 설명 필드를 작성하여 운영자가 쉽게 이해할 수 있도록 수행할 프로세스를 요약합니다.

워크플로우가 여러 워크플로우를 포함하는 프로세스의 일부인 경우 레이블을 입력할 때 명시적일 수 있습니다.숫자를 사용하는 것은 워크플로우(레이블별)를 정렬하는 좋은 방법입니다.

예제:

* 001 - 가져오기 - 수신자 가져오기
* 002 - 가져오기 - 판매 가져오기
* 003 - 가져오기 - 판매 세부 정보 가져오기
* 010 - 내보내기 - 게재 로그 내보내기
* 011 - 내보내기 - 추적 로그 내보내기

### 워크플로우 심각도 {#workflow-severity}

워크플로우 속성의 **[!UICONTROL Execution]** 탭에서 워크플로우의 심각도를 구성할 수 있습니다.

* 일반
* 프로덕션
* 중요

워크플로우를 만들 때 이 정보를 제공하면 구성된 프로세스의 심각도를 이해하는 데 도움이 됩니다.

이 옵션은 캠페인 워크플로우 이외의 워크플로우에 영향을 주지 않습니다.

캠페인에서 동시에 실행해야 하는 많은 프로세스가 있는 경우 심각도가 높은 캠페인 워크플로우(캠페인/작업의 일부로 만들어진 워크플로우)가 우선순위가 높습니다. NmsOperation_LimitConcurrency 옵션에 따라 기본적으로 캠페인에서 10개의 프로세스만 동시에 실행할 수 있습니다. 예를 들어 캠페인에 25개의 워크플로우가 포함된 경우 심각도가 높은 워크플로우가 10개의 프로세스가 있는 첫 번째 풀에서 실행됩니다.

### 워크플로우 모니터링 {#workflow-monitoring}

오류가 있을 경우 경고하려면 프로덕션 환경에서 실행되는 예약된 모든 워크플로우를 모니터링해야 합니다.

워크플로 속성에서 기본 **[!UICONTROL Workflow supervisors]** 또는 사용자 지정 그룹 중 하나를 선택하여 감독자 그룹을 선택합니다. 전자 메일이 설정된 상태에서 하나 이상의 연산자가 이 그룹에 속하는지 확인하십시오.

워크플로우 작성을 시작하기 전에 워크플로우 관리자를 정의해야 합니다. 오류 발생 시 이메일로 알려 줍니다. 자세한 내용은 [오류 관리](../../workflow/using/monitoring-workflow-execution.md#managing-errors)를 참조하십시오.

활성 워크플로우의 전체 상태를 보려면 **[!UICONTROL Monitoring]** 탭을 정기적으로 확인하십시오. 자세한 내용은 [인스턴스 감독](../../workflow/using/monitoring-workflow-execution.md#instance-supervision)을 참조하십시오.

Workflow HeatMap을 사용하면 Adobe Campaign 플랫폼 관리자가 인스턴스의 로드를 모니터링하고 그에 따라 워크플로우를 계획할 수 있습니다. 자세한 내용은 [워크플로우 모니터링](../../workflow/using/heatmap.md)을 참조하십시오.

## 활동 사용 {#using-activities}

>[!CAUTION]
>
>동일한 워크플로우 내에서 활동을 복사하고 붙여넣을 수 있습니다. 그러나 다른 워크플로우에서는 붙여넣기 활동을 복사하지 않는 것이 좋습니다. 게재 및 스케줄러와 같은 활동에 첨부된 일부 설정은 대상 워크플로우를 실행하는 동안 충돌과 오류가 발생할 수 있습니다. 대신 **Duplicate** workflows를 사용하는 것이 좋습니다. 자세한 내용은 [워크플로우 복제](../../workflow/using/building-a-workflow.md#duplicating-workflows)를 참조하십시오.

### 활동 이름 {#name-of-the-activity}

워크플로우를 개발하는 동안 모든 활동에도 모든 Adobe Campaign 개체와 같은 이름이 있습니다. 도구에서 이름을 생성하는 동안 구성할 때 명시적인 이름으로 이름을 바꾸는 것이 좋습니다. 나중에 수행하면 다른 이전 활동의 이름을 사용하는 활동으로 워크플로우가 중단될 수 있습니다. 따라서 나중에 이름을 갱신하는 것은 어려운 일이 될 것이다.

활동 이름은 **[!UICONTROL Advanced]** 탭에서 찾을 수 있습니다. **[!UICONTROL query]**, **[!UICONTROL query1]**, **[!UICONTROL query11]** 이름을 그대로 두고 **[!UICONTROL querySubscribedRecipients]** 같은 명시적 이름을 지정하지 마십시오. 이 이름은 저널에 표시되며, SQL 로그에 해당하는 경우 이 이름이 표시되므로 구성 시 워크플로우를 디버깅하는 데 도움이 됩니다.

### 첫 번째 및 마지막 활동 {#first-and-last-activities}

* 항상 **[!UICONTROL Start]** 활동 또는 **[!UICONTROL Scheduler]** 활동으로 워크플로우를 시작합니다. 적절한 경우 **[!UICONTROL External signal]** 활동을 사용할 수도 있습니다.
* 워크플로우를 빌드할 때는 분기당 하나의 **[!UICONTROL Scheduler]** 활동만 사용하십시오. 워크플로우의 동일한 분기에 여러 개의 스케줄러(서로 연결됨)가 있는 경우 실행할 작업 수가 기하급수적으로 증가하여 데이터베이스가 상당히 과부하 됩니다. 이 규칙은 **[!UICONTROL Scheduling & History]** 탭이 있는 모든 활동에도 적용됩니다. [예약](../../workflow/using/scheduler.md)에 대해 자세히 알아보십시오.

   ![](assets/wf-scheduler.png)

* 모든 워크플로우에 **[!UICONTROL End]** 활동을 사용합니다. 이를 통해 Adobe Campaign은 워크플로우 내의 계산에 사용되는 임시 공간을 확보할 수 있습니다. 자세한 내용은 다음을 참조하십시오.[시작 및 종료](../../workflow/using/start-and-end.md).

### 활동 내의 Javascript {#javascript-within-an-activity}

워크플로우 활동을 초기화할 때 JavaScript를 추가할 수 있습니다. 이 작업은 활동의 **[!UICONTROL Advanced]** 탭에서 수행할 수 있습니다.

워크플로우를 보다 쉽게 찾기 위해 활동 레이블의 시작 및 끝에 이중 대시를 다음과 같이 사용하는 것이 좋습니다.— 내 레이블 —

### 신호 {#signal}

대부분의 경우 신호가 어디에서 호출되는지 알 수 없습니다. 이 문제를 방지하려면 신호 활동의 **[!UICONTROL Advanced]** 탭 내에서 **[!UICONTROL Comment]** 필드를 사용하여 이 활동에 대한 신호의 예상 출처를 문서화합니다.

![](assets/workflow-signal-bp.png)

## 워크플로우 업데이트 {#workflow-update}

프로덕션 워크플로우는 직접 업데이트해서는 안 됩니다. 템플릿 워크플로우로 캠페인을 만드는 프로세스로 구성되지 않은 경우 먼저 개발 환경에서 프로세스를 테스트해야 합니다. 이 유효성 검사 후 워크플로우를 배포하고 프로덕션에서 시작할 수 있습니다.

프로덕션 환경이 아닌 개발 또는 스테이징 환경에서 모든 테스트를 수행합니다. 이런 경우에는 성능을 보장할 수 없습니다.

보관된 워크플로우는 개발 또는 테스트 플랫폼에 보관될 수 있지만 보관된 폴더에서는 프로덕션 환경이 가능한 한 깨끗해야 합니다. 이전 워크플로우가 비활성 상태인 경우 프로덕션 환경에서 제거해야 합니다.
